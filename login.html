<!DOCTYPE html>
<html lang="es">
 <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- SEO -->
    <title>
      Laboratorio Cl√≠nico Plus Cartagena | Resultados Confiables y Atenci√≥n
      Humana
    </title>
    <meta
      name="description"
      content="Laboratorio Cl√≠nico Plus en Cartagena: ex√°menes confiables, tecnolog√≠a avanzada y atenci√≥n humana. Resultados r√°pidos y precisos."
    />
    <meta
      name="keywords"
      content="laboratorio cl√≠nico Cartagena, an√°lisis cl√≠nicos, ex√°menes m√©dicos, resultados r√°pidos, salud, diagn√≥stico confiable, laboratorio Plus"
    />
    <meta name="author" content="Laboratorio Cl√≠nico Plus Cartagena" />
    <link rel="canonical" href="https://tusitio.com/" />

    <!-- Redes sociales -->
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Laboratorio Cl√≠nico Plus Cartagena" />
    <meta
      property="og:description"
      content="Resultados r√°pidos y confiables con atenci√≥n humana."
    />
    <meta
      property="og:image"
      content="https://tusitio.com/assets/images/PLUS.png"
    />
    <meta property="og:url" content="https://tusitio.com/" />

    <!-- Favicon -->
    <link rel="icon" href="assets/images/PLUS.png" type="image/png" />

    <!-- Bootstrap -->
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css" />

    <!-- Estilos principales -->
    <link rel="stylesheet" href="assets/theme/css/style.css" />
    <link rel="preload" href="css/styles.min.css" as="style" />
    <link rel="stylesheet" href="css/styles.min.css" />
    <link rel="stylesheet" href="css/styles.css" />
    <link rel="stylesheet" href="css/examenes.css">
    <link
  href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
  rel="stylesheet"
>
  </head>
<body class="bg-light d-flex align-items-center justify-content-center" style="height:100vh">

<div class="card p-4 shadow" style="width:350px">
  <h4 class="text-center mb-3">üî¨ Plus Laboratorio Cl√≠nico</h4>

  <!-- Usuario -->
  <input
  type="text"
  id="cedula"
  class="form-control mb-2"
  placeholder="Ingrese su n√∫mero de c√©dula"
>

<textarea
  id="recomendacion"
  class="form-control mb-3"
  placeholder="Recomendaciones generadas"
></textarea>

  <!-- Contrase√±a -->
  <input
    type="password"
    id="password"
    class="form-control mb-3"
    placeholder="Contrase√±a (N¬∞ de c√©dula)"
  >

  <!-- Rol -->
  <select id="role" class="form-select mb-3">
  <option value="admin">Administrador</option>
  <option value="staff">Staff</option>
  <option value="paciente">Paciente</option>
  </select>

   <!-- Bot√≥n -->
  <button class="btn btn-primary w-100" onclick="guardarPaciente()">
  Ingresar
</button>
</div>


<script src="js/auth.js"></script>
<script src="js/roles.js"></script>
<script src="js/server.js"></script>
<script src="js/app.js"></script>
<script src="json/package.json"></script>
<script src="models/Resultado.js"></script>
<script src="models/Usuario.js"></script>
<script src="controllers/resultadoController.js"></script>
<script src="routes/resultados.routes.js"></script>
<script src="services/pdfService.js"></script>
<script>
  function login() {
    window.location.href = "resultadosenlinea.html";
  }
</script>

<script>
  function login() {
    const usuario = document.getElementById("usuario").value.trim();
    const password = document.getElementById("password").value.trim();
    const role = document.getElementById("role").value;

    // C√©dulas autorizadas por rol
    const usuarios = {
      admin: ["123456789"],
      staff: ["987654321"],
      paciente: ["1020304050", "1122334455"]
    };

    // Validaci√≥n
    if (
      usuarios[role]?.includes(usuario) &&
      usuario === password
    ) {
      // Guardar sesi√≥n b√°sica
      localStorage.setItem("usuario", usuario);
      localStorage.setItem("rol", role);

      window.location.href = "resultadosenlinea.html";
    } else {
      alert("‚ùå Acceso denegado. Verifique sus datos.");
    }
  }
</script>

<script>
  function guardarCedula() {
    const cedula = document.getElementById("cedula").value.trim();

    if (!cedula) {
      alert("Ingrese la c√©dula");
      return;
    }

    fetch("guardar_cedula.php", {
      method: "POST",
      headers: {
        "Content-Type": "application/json"
      },
      body: JSON.stringify({ cedula })
    })
    .then(res => res.json())
    .then(data => {
      if (data.ok) {
        window.location.href = "resultadosenlinea.html";
      } else {
        alert("Error al guardar la c√©dula");
      }
    });
  }
</script>

<script>
  function guardarPaciente() {
    const cedula = document.getElementById("cedula").value.trim();
    const recomendacion = document.getElementById("recomendacion").value.trim();

    if (!cedula || !recomendacion) {
      alert("Debe ingresar la c√©dula y la recomendaci√≥n");
      return;
    }

    fetch("guardar_paciente.php", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ cedula, recomendacion })
    })
    .then(res => res.json())
    .then(data => {
      if (data.ok) {
        window.location.href = "resultadosenlinea.html";
      } else {
        alert("Error al guardar la informaci√≥n");
      }
    });
  }
</script>

</body>
</html>