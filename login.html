<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>Login | Plus Laboratorio Cl√≠nico</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Favicon -->
  <link rel="icon" href="assets/images/PLUS.png" type="image/png" />
</head>
<body class="bg-light d-flex align-items-center justify-content-center" style="height:100vh">

<div class="card p-4 shadow" style="width:360px">
  <h4 class="text-center mb-3">üî¨ Plus Laboratorio Cl√≠nico</h4>

  <!-- C√©dula -->
  <input
    type="text"
    id="cedula"
    class="form-control mb-3"
    placeholder="N√∫mero de c√©dula"
  />

  <!-- Contrase√±a -->
  <input
    type="password"
    id="password"
    class="form-control mb-3"
    placeholder="Contrase√±a"
  />

  <!-- Rol -->
  <select id="role" class="form-select mb-4">
    <option value="admin">Administrador</option>
    <option value="staff">Staff</option>
    <option value="paciente">Paciente</option>
  </select>

  <!-- Bot√≥n -->
  <button class="btn btn-primary w-100" onclick="login()">Ingresar</button>
</div>

<script>
  /* Usuarios simulados por rol */
  const USUARIOS = {
    admin: ["123456789"],
    staff: ["987654321"],
    paciente: ["1020304050", "1122334455"]
  };

  function login() {
    const cedula = document.getElementById("cedula").value.trim();
    const password = document.getElementById("password").value.trim();
    const role = document.getElementById("role").value;

    if (!cedula || !password) {
      alert("Debe completar todos los campos");
      return;
    }

    if (USUARIOS[role]?.includes(cedula) && cedula === password) {
      localStorage.setItem("session", "true");
      localStorage.setItem("cedula", cedula);
      localStorage.setItem("rol", role);

      window.location.href = "./dashboard_laboratorio_clinico_login.html";
    } else {
      alert("‚ùå Acceso denegado. Verifique sus datos");
    }
  }
</script>

</body>
</html>
